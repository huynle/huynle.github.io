<!doctype html><html lang=en-us><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="chrome=1"><meta name=HandheldFriendly content="True"><meta name=MobileOptimized content="320"><meta name=viewport content="width=device-width,initial-scale=1"><meta name=referrer content="no-referrer"><meta name=description content="A Blog on Hardware and Software Development"><meta property="twitter:site" content="@huynle"><meta property="twitter:title" content="Flask 101"><meta property="twitter:card" content="summary_large_image"><meta property="twitter:image" content="https://www.huynle.com/img/banner.png"><meta property="twitter:description" content><title>Huy Le - Flask 101</title><link rel=canonical href=https://www.huynle.com/learnings/flask-101/><meta name=viewport content="user-scalable=no,width=device-width,initial-scale=1,maximum-scale=1"><script type=text/javascript src=https://cdnjs.cloudflare.com/ajax/libs/jquery/2.1.1/jquery.min.js></script><link href=https://unpkg.com/nanogallery2/dist/css/nanogallery2.min.css rel=stylesheet type=text/css><script type=text/javascript src=https://unpkg.com/nanogallery2/dist/jquery.nanogallery2.min.js></script><link rel=stylesheet href=https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css integrity=sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u crossorigin=anonymous><script src=https://ajax.googleapis.com/ajax/libs/jquery/3.2.0/jquery.min.js></script><script src=https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js></script><style media=screen>@font-face{font-family:nexa bold;src:url('/fonts/Nexa Bold.otf')}html,body,div,span,applet,object,iframe,h1,h2,h3,h4,h5,h6,p,blockquote,pre,a,abbr,acronym,address,big,cite,code,del,dfn,em,img,ins,kbd,q,s,samp,small,strike,strong,sub,tt,var,b,u,i,center,dl,dt,dd,ol,ul,li,fieldset,form,label,legend,table,caption,tbody,tfoot,thead,tr,th,td,article,aside,canvas,details,embed,figure,figcaption,footer,header,hgroup,menu,nav,output,ruby,section,summary,time,mark,audio,video{margin:0;padding:0;border:0;font-size:100%;font:inherit;vertical-align:baseline}article,aside,details,figcaption,figure,footer,header,hgroup,menu,nav,section{display:block}body{line-height:1}ol,ul{list-style:none}blockquote,q{quotes:none}blockquote:before,blockquote:after,q:before,q:after{content:'';content:none}table{border-collapse:collapse;border-spacing:0}*,*:before,*:after{box-sizing:border-box}a,a:visited,a:focus,a:active{text-decoration:none}html{height:100%;font-size:16px}body{display:-webkit-flex;display:-moz-flex;display:-ms-flexbox;display:-ms-flex;display:flex;-webkit-flex-direction:column;-moz-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-align-items:center;-moz-align-items:center;-ms-align-items:center;align-items:center;-webkit-justify-content:flex-start;-moz-justify-content:flex-start;-ms-justify-content:flex-start;justify-content:flex-start;width:100%;min-height:100%;font-weight:400;color:#111;line-height:1.6;text-rendering:optimizeLegibility!important}.icon{text-rendering:geometricPrecision!important}section{-webkit-align-items:center;-moz-align-items:center;-ms-align-items:center;-webkit-justify-content:center;-moz-justify-content:center;-ms-justify-content:center;justify-content:center;align-items:center;width:100%;display:block;padding-bottom:0}section.header .content{align-items:center;display:-webkit-flex;display:-moz-flex;display:-ms-flexbox;display:-ms-flex;display:table;-webkit-flex-direction:column;-moz-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-align-items:center;-moz-align-items:center;-ms-align-items:center;width:100%}section.header .logo{}section.header .name{font-size:50px;font-family:nexa bold,helvetica neue,arial,sans-serif;letter-spacing:.1rem;text-transform:uppercase;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-smoothing:antialiased;color:#333;color:#555}.left-div{display:table-cell;text-align:right;vertical-align:middle;width:50vw}.right-div{display:table-cell;text-align:left;width:50vw;vertical-align:middle}.navbar-default{background-color:transparent;border-color:transparent}.navbar .navbar-nav{display:inline-block;float:none;vertical-align:top}.navbar .navbar-collapse{text-align:center}nav{width:100%;-webkit-align-items:center;-moz-align-items:center;-ms-align-items:center;-webkit-justify-content:center;-moz-justify-content:center;-ms-justify-content:center;justify-content:center}navi.ul{list-style:none;text-align:center;display:-webkit-inline-flex;display:-moz-inline-flex;display:-ms-inline-flexbox;display:-ms-inline-flex;display:inline-flex}nav ul a{margin-left:6px;margin-right:6px}nav ul a:first-child{margin-left:0}nav ul a:last-child{margin-right:0}nav ul li{color:#555;font-weight:400;font-size:14px;text-transform:uppercase;font-family:helvetica neue,arial,sans-serif;-webkit-transition:color .1s cubic-bezier(0.47,0,0.75,0.72);-moz-transition:color .1s cubic-bezier(0.47,0,0.75,0.72);-ms-transition:color .1s cubic-bezier(0.47,0,0.75,0.72);-o-transition:color .1s cubic-bezier(0.47,0,0.75,0.72)}nav ul li:hover{color:#111}section.footer{-webkit-align-items:center;-moz-align-items:center;-ms-align-items:center;align-items:center;-webkit-justify-content:center;-moz-justify-content:center;-ms-justify-content:center;justify-content:center;flex-direction:column-reverse;width:100%;text-align:center}section.footer a{font-size:14px;margin-left:6px;margin-right:6px;opacity:.6;-webkit-transition:opacity .1s cubic-bezier(0.47,0,0.75,0.72);-moz-transition:opacity .1s cubic-bezier(0.47,0,0.75,0.72);-ms-transition:opacity .1s cubic-bezier(0.47,0,0.75,0.72);-o-transition:opacity .1s cubic-bezier(0.47,0,0.75,0.72)}section.footer a:first-child{margin-left:0}section.footer a:last-child{margin-right:0}section.footer a:hover{opacity:.8}section.footer .icon{width:16px;height:16px}section.footer .copyright{flex-grow:.5;text-align:start}section.footer .icons{flex-grow:.5;text-align:end}section.main .container{-webkit-align-items:center;-moz-align-items:center;-ms-align-items:center;align-items:center;-webkit-justify-content:flex-start;-moz-justify-content:flex-start;-ms-justify-content:flex-start;justify-content:flex-start}section.main .content{color:#111;font-size:14px}section.main .content .title-container{display:-webkit-flex;display:-moz-flex;display:-ms-flexbox;display:-ms-flex;display:flex;-webkit-justify-content:space-between;-moz-justify-content:space-between;-ms-justify-content:space-between;justify-content:space-between}section.main .content .posts{margin-bottom:4em}section.main .content .page-heading{font-size:20px;font-weight:700;font-family:helvetica neue,arial,sans-serif;letter-spacing:-.005rem;text-transform:uppercase;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-smoothing:antialiased;color:#333;margin-bottom:16px}section.main .content .front-matter .page-heading{margin-bottom:0}section.main .content .front-matter .updates-heading{font-size:17px;text-transform:uppercase;font-weight:600}section.main .content .front-matter .update-content{font-size:14px;color:#790202;margin-bottom:30px}section.main .content .front-matter .update-content li{margin-left:20px;list-style-type:circle}section.main .content .front-matter .meta{font-size:14px;color:#666;display:-webkit-flex;display:-moz-flex;display:-ms-flexbox;display:-ms-flex;display:flex;margin-bottom:10px}section.main .content .front-matter .date,section.main .content .front-matter .author,section.main .content .front-matter .tags,section.main .content .front-matter .word-count,section.main .content .front-matter .reading-time .middot{display:none}section.main .content .front-matter .middot{font-size:6px;margin:0 6px;display:inline;vertical-align:middle}section.main .content .front-matter .middot:before{content:"•"}section.main .content .front-matter .tags ul{display:-webkit-flex;display:-moz-flex;display:-ms-flexbox;display:-ms-flex;display:flex;-webkit-flex-direction:row;-moz-flex-direction:row;-ms-flex-direction:row;flex-direction:row;-webkit-align-items:center;-moz-align-items:center;-ms-align-items:center;align-items:center}section.main .content .front-matter .tags ul li{-webkit-transition:opacity .1s cubic-bezier(0.47,0,0.75,0.72);-moz-transition:opacity .1s cubic-bezier(0.47,0,0.75,0.72);-ms-transition:opacity .1s cubic-bezier(0.47,0,0.75,0.72);-o-transition:opacity .1s cubic-bezier(0.47,0,0.75,0.72)}section.main .content .front-matter .tags ul li:hover{opacity:.7}section.main .content .front-matter .tags ul li a{color:#666}section.main .container.f04{-webkit-justify-content:center;-moz-justify-content:center;-ms-justify-content:center;justify-content:center}section.main .container.f04 .content{display:-webkit-flex;display:-moz-flex;display:-ms-flexbox;display:-ms-flex;display:flex;-webkit-flex-direction:column;-moz-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-align-items:center;-moz-align-items:center;-ms-align-items:center;align-items:center}section.main .container.f04 .content .num{margin:30px 0 30px 0;font-weight:400;font-family:helvetica neue,arial,sans-serif;font-size:50px}section.main .container.f04 .content .detail{margin-bottom:40px}section.main .container .content .groupby{margin-top:1em;padding-left:.5em}section.main .container .content .post-item{display:-webkit-flex;display:-moz-flex;display:-ms-flexbox;display:-ms-flex;display:flex;-webkit-align-items:center;-moz-align-items:center;-ms-align-items:center;align-items:center;display:list-item;list-style:disc inside}section.main .container .content .post-item .meta{font-size:14px;color:#666;display:none;min-width:100px}section.main .container .content .see-more{font-style:italic;float:right;font-size:.9em;margin-top:2em;color:#313537}section.main .container .content .see-more:hover{color:#666}section{padding:0 16px}section.header-home{padding-top:36px}section.main{padding-top:32px;display:block}section.main .container .content .post-item .meta{display:block}section.main .container .content .post-item{display:flex;list-style:none}a{color:#428bca;-webkit-transition:color .1s cubic-bezier(0.47,0,0.75,0.72);-moz-transition:color .1s cubic-bezier(0.47,0,0.75,0.72);-ms-transition:color .1s cubic-bezier(0.47,0,0.75,0.72);-o-transition:color .1s cubic-bezier(0.47,0,0.75,0.72)}a:hover{color:#2a6496}img{max-width:100%}section.coverimage{width:100%;max-width:100%}section.main .content{width:100%}section.main .content .markdown{font-size:1.1em;line-height:1.75em;color:#313537;font-family:serif;font-weight:300}section.main .content .markdown h1,section.main .content .markdown h2,section.main .content .markdown h3,section.main .content .markdown h4,section.main .content .markdown h5,section.main .content .markdown h6{font-size:22px;font-family:helvetica neue,arial,sans-serif;letter-spacing:-.005rem;font-weight:700;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-smoothing:antialiased;color:#333;text-transform:none;margin-top:1.75rem}section.main .content .markdown h1{font-size:1.75rem;margin-bottom:2rem}section.main .content .markdown h2{font-size:1.5rem;margin-bottom:1.5rem}section.main .content .markdown h3{font-size:1em;margin-bottom:1rem}section.main .content .markdown h4,section.main .content .markdown h5,section.main .content .markdown h6{font-size:1rem;margin-bottom:1rem;letter-spacing:none}section.main .content .markdown code,section.main .content .markdown pre{font-family:menlo,monospace;font-size:.98rem;background-color:#f7f7f7}section.main .content .markdown code{padding:.15em .5em;border-radius:2px}section.main .content .markdown pre{display:block;margin-top:1rem;margin-bottom:2rem;padding:1rem;line-height:1.5em;white-space:pre;word-break:break-all;word-wrap:break-word}@media(min-width:769px){section.main .content .markdown pre{width:110%;margin-left:-4%}}section.main .content .markdown pre code{padding:0;font-size:.9rem}section.main .content .markdown a code{color:#428bca!important}section.main .content .markdown a code:hover{text-decoration:underline}section.main .content .markdown p{text-align:justify;margin-top:0;margin-bottom:1em}section.main .content .markdown ul,section.main .content .markdown ol,section.main .content .markdown dl{margin-top:1rem;margin-bottom:2rem}section.main .content .markdown dt{font-weight:700}section.main .content .markdown dd{margin-bottom:.5rem}section.main .content .markdown ul{list-style-type:disc;list-style-position:outside;margin-bottom:1.25rem}section.main .content .markdown ol{list-style-type:decimal;margin-bottom:1.25rem}section.main .content .markdown li{margin-left:2em}section.main .content .markdown em{font-style:italic}section.main .content .markdown strong{font-weight:700}section.main .content .markdown hr{position:relative;margin:1.75rem 0;border:0;border-top:1px solid gray;border-top:1px solid #999}section.main .content .markdown abbr{font-size:.85rem;font-weight:700;color:#666;text-transform:uppercase}section.main .content .markdown abbr[title]{cursor:help;border-bottom:1px dotted gray}section.main .content .markdown blockquote{padding:.5rem 1rem;margin:.8rem 0;color:#7a7a7a;border-left:.25rem solid #e5e5e5}section.main .content .markdown blockquote p:last-child{margin-bottom:0}section.main .content .markdown figure{width:100%;background:#fff;margin-bottom:1em}section.main .content .markdown figure img{width:100%;height:auto;max-width:100%;display:block;position:static;margin:auto}section.main .content .markdown table{margin-bottom:1rem;width:100%;border:1px solid #e5e5e5;border-collapse:collapse}section.main .content .markdown td,section.main .content .markdown th{padding:.25rem .5rem;border:1px solid #e5e5e5}section.main .content .markdown tbody tr:nth-child(odd) td,section.main .content .markdown tbody tr:nth-child(odd) th{background-color:#f7f7f7}section.main .content .markdown .footnotes ol{list-style-type:decimal;margin-left:16px}section.main .content .markdown .footnotes li{list-style-type:unset}section.main .content .markdown .footnote-ref{font-size:.7em}section.main .content .navigation{display:-webkit-flex;display:-moz-flex;display:-ms-flexbox;display:-ms-flex;display:flex;-webkit-flex-direction:column;-moz-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-align-items:center;-moz-align-items:center;-ms-align-items:center;align-items:center}section.main .content .navigation div{display:-webkit-flex;display:-moz-flex;display:-ms-flexbox;display:-ms-flex;display:flex;-webkit-flex-direction:row;-moz-flex-direction:row;-ms-flex-direction:row;flex-direction:row;-webkit-align-items:center;-moz-align-items:center;-ms-align-items:center;align-items:center;margin-top:1em}section.main .content .navigation .icon{width:16px;height:16px}section.main .content .navigation a{width:250px;margin-left:1em;text-align:center;font-style:italic;color:#313537}.breadcrumb{font-size:12px}.wf-raleway-n4-active body,.wf-raleway-n4-active section.header nav ul li,.wf-raleway-n7-active section.main .content .page-heading,.wf-raleway-n2-active section.main .container.f04 .content .num,.wf-raleway-n7-active section.main .content .markdown h1,.wf-raleway-n7-active section.main .content .markdown h2,.wf-raleway-n7-active section.main .content .markdown h3,.wf-raleway-n7-active section.main .content .markdown h4,.wf-raleway-n7-active section.main .content .markdown h5,.wf-raleway-n7-active section.main .content .markdown h6{font-family:raleway}.wf-merriweather-n3-active section.main .content .markdown{font-family:merriweather}.wf-ubuntu-mono-n4-active section.main .content .markdown code,.wf-ubuntu-mono-n4-active section.main .content .markdown pre{font-family:ubuntu mono}.no-padding{padding-left:0;padding-right:0;height:200px}ul.nav li.dropdown:hover ul.dropdown-menu{display:block}<`2`><`2`><`2`><`2`></style><style media="(min-width: 1024px)">body{-webkit-justify-content:center;-moz-justify-content:center;-ms-justify-content:center;justify-content:center}.non-narrow.zero-top-spacing{padding-top:0!important}section{padding:0 16px;margin-left:10%;margin-right:10%;max-width:80%}section.header{background-color:transparent}section.header .container{-webkit-justify-content:flex-start;-moz-justify-content:flex-start;-ms-justify-content:flex-start;justify-content:flex-start}section.header .container .logo{margin:0}section.header-home .container .logo{max-width:180px;margin-left:20px}section.header-home .name-home{padding-top:30px;font-size:40px}section.header-home nav ul li{font-size:18px}section.header .content{-webkit-align-items:flex-start;-moz-align-items:flex-start;-ms-align-items:flex-start;align-items:flex-start}section.header .name{color:#333}section.header nav{font-size:14px;margin-bottom:0}section.header nav ul{text-align:left}section.header nav ul li{color:#666}section.header nav ul li:hover{color:#333}section.footer{background-color:transparent}section.footer .container{flex-direction:row}section.footer .container a{margin-left:3px;margin-right:3px;color:#666}section.footer .container a:hover{color:#333}section.footer .container a .icon{font-size:18px}section.footer .container a .icon.larger{font-size:20px}section.main .content .front-matter .date,section.main .content .front-matter .author,section.main .content .front-matter .tags,section.main .content .front-matter .word-count,section.main .content .front-matter .reading-time .middot{display:initial}section.main .container.f04{-webkit-justify-content:flex-start;-moz-justify-content:flex-start;-ms-justify-content:flex-start;justify-content:flex-start}section.main .container.f04 .content{-webkit-align-items:flex-start;-moz-align-items:flex-start;-ms-align-items:flex-start;align-items:flex-start}section.main .container.f04 .content .num{margin:0 0 10px;font-size:32px}section.main .container.f04 .content .detail{margin-bottom:30px}.container{padding:0 30px}section.header{padding-top:60px;padding-bottom:10px}section.footer{padding-top:30px;padding-bottom:60px}section.main{padding-top:0}section.main .container .content .post-item{display:flex;list-style:none;padding-left:1.5em}section.main .container .content .post-item .meta{display:block}section.main.post{padding-top:60px;padding-bottom:60px}section.main .content .markdown blockquote{padding-right:5rem;padding-left:1.25rem}section.main .content .navigation{-webkit-flex-direction:row;-moz-flex-direction:row;-ms-flex-direction:row;flex-direction:row}section.main .content .navigation div{margin-top:0}</style><style media="(min-width: 1500px)">section{padding:0 16px;margin-left:10%;margin-right:10%;max-width:1024px}section.main .content .markdown figure{width:110%;margin-left:-4%}section.main .content .markdown img{max-width:110%;width:110%;margin-left:-4%}</style><noscript><link href="https://fonts.googleapis.com/css?family=Raleway:400,600,700" rel=stylesheet><link href="https://fonts.googleapis.com/css?family=Merriweather:300,300i,700,700i" rel=stylesheet><link href="https://fonts.googleapis.com/css?family=Ubuntu+Mono:400,700" rel=stylesheet></noscript><style type=text/css media=screen>.hljs{display:block;background:#fff;padding:.5em;color:#333;overflow-x:auto}.hljs-comment,.hljs-meta{color:#969896}.hljs-string,.hljs-variable,.hljs-template-variable,.hljs-strong,.hljs-emphasis,.hljs-quote{color:#df5000}.hljs-keyword,.hljs-selector-tag,.hljs-type{color:#a71d5d}.hljs-literal,.hljs-symbol,.hljs-bullet,.hljs-attribute{color:#0086b3}.hljs-section,.hljs-name{color:#63a35c}.hljs-tag{color:#333}.hljs-title,.hljs-attr,.hljs-selector-id,.hljs-selector-class,.hljs-selector-attr,.hljs-selector-pseudo{color:#795da3}.hljs-addition{color:#55a532;background-color:#eaffea}.hljs-deletion{color:#bd2c00;background-color:#ffecec}.hljs-link{text-decoration:underline}</style><style type=text/css media=screen>.progressive{overflow:hidden;position:relative;background:#efefef}.progressive__img{width:100%;height:100%;position:absolute;-webkit-transform:translateZ(0);transform:translateZ(0)}.progressive--not-loaded{filter:blur(30px);-webkit-filter:blur(30px)}.progressive--is-loaded{filter:blur(20px);-webkit-filter:blur(20px);-webkit-animation:sharpen .5s both;animation:sharpen .5s both}@-webkit-keyframes sharpen{from{filter:blur(20px);-webkit-filter:blur(20px)}to{filter:blur(0);-webkit-filter:blur(0)}}@keyframes sharpen{from{filter:blur(20px);-webkit-filter:blur(20px)}to{filter:blur(0);-webkit-filter:blur(0)}}</style><style type=text/css media=screen>a{color:#527fc1f}a:hover{color:#1a3152}section.main .content .markdown,section.header .name,section.header nav ul li:hover{color:#181d2a}section.header nav ul li{color:#6a7a8b}section.main .content .markdown code{background-color:#f9f9f9;color:#527fc1f}section.main .content .markdown pre,section.main .content .markdown pre code{background-color:#282a36;color:#87a5d2}.hljs,.hljs-subst,.hljs-variable{color:#87a5d2}.hljs-type{color:#97d28b}.hljs-quote{color:#ffcb8d}.hljs-string,.hljs-number,.hljs-selector-id,.hljs-selector-class,.hljs-template-tag,.hljs-deletion{color:#96c2d7}.hljs-comment{color:#6a7a8b}.hljs-regexp,.hljs-symbol,.hljs-template-variable{color:#ffcb8d}.hljs-keyword,.hljs-attribute,.hljs-meta-keyword,.hljs-doctag,.hljs-name{color:#97d28b}.hljs-link,.hljs-selector-attr,.hljs-selector-pseudo,.hljs-title,.hljs-section{color:#ff8e91}.hljs-built_in,.hljs-bullet,.hljs-code,.hljs-addition{color:#97d28b}</style><link rel=stylesheet href=https://www.huynle.com/css/custom.css><link rel="shortcut icon" href=https://www.huynle.com/img/favicon.png><script type=application/javascript>var doNotTrack=false;if(!doNotTrack){(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');ga('create','UA-41899218-5','auto');ga('send','pageview');}</script></head><body><section class=header><div><div class=left-div><a href=https://www.huynle.com/ class=logo><img src=https://www.huynle.com/img/favicon.png alt=logo></a></div><div class=right-div><a href=https://www.huynle.com/ class=name>Huy Le</a></div></div><nav class="navbar navbar-default"><div class=navbar-header><button type=button class=navbar-toggle data-toggle=collapse data-target=#navbarc>
<span class=sr-only>Toggle navigation</span>
<span class=icon-bar></span><span class=icon-bar></span><span class=icon-bar></span></button></div><div id=navbarc class="collapse navbar-collapse"><ul class="nav navbar-nav"><li><a href=https://www.huynle.com/thoughts>thoughts</a></li><li class=dropdown><a class="dropdown-toggle disabled" data-toggle=dropdown href=https://www.huynle.com/projects/>projects<span class=caret></span></a><ul class="dropdown-menu multi-level"><li class=dropdown-item><a href=https://www.huynle.com/projects/>All</a></li><li class=dropdown-submenu><a class=dropdown-item tabindex=-1 href=https://www.huynle.com/projects/custom-vim/>Custom Vim</span></a></li><li class=dropdown-submenu><a class=dropdown-item tabindex=-1 href=https://www.huynle.com/projects/flamewheel-450/>DJI Flamewheel 450</span></a></li><li class=dropdown-submenu><a class=dropdown-item tabindex=-1 href=https://www.huynle.com/projects/k40-laser/>K40-Laser</span></a></li><li class=dropdown-submenu><a class=dropdown-item tabindex=-1 href=https://www.huynle.com/projects/k8200/>K8200</span></a></li><li class=dropdown-submenu><a class=dropdown-item tabindex=-1 href=https://www.huynle.com/projects/px4/>PX4</span></a></li><li class=dropdown-submenu><a class=dropdown-item tabindex=-1 href=https://www.huynle.com/projects/ilawn/>iLawn</span></a></li><li class=dropdown-submenu><a class=dropdown-item tabindex=-1 href=https://www.huynle.com/projects/esp/>ESP MCU</span></a></li></ul></li><li class=dropdown><a class="dropdown-toggle disabled" data-toggle=dropdown href=https://www.huynle.com/learnings/>learnings<span class=caret></span></a><ul class="dropdown-menu multi-level"><li class=dropdown-item><a href=https://www.huynle.com/learnings/>All</a></li><li class=dropdown-submenu><a class=dropdown-item tabindex=-1 href=https://www.huynle.com/learnings/resources/>Resources</span></a></li><li class=dropdown-submenu><a class=dropdown-item tabindex=-1 href=https://www.huynle.com/learnings/essentials/>Essentials</span></a></li><li class=dropdown-submenu><a class=dropdown-item tabindex=-1 href=https://www.huynle.com/learnings/cpp/>Learning C++</span></a></li></ul></li><li><a href=https://www.huynle.com/adventures>adventures</a></li><li><a href=https://www.huynle.com/about/>About</li></a><li><a href=https://www.huynle.com/search/>Search</li></a></ul></div></nav></section><ol class=breadcrumb><li><a href=https://www.huynle.com/>HUY LE</a></li><li><a href=https://www.huynle.com/learnings/>LEARNINGS</a></li><li><a href=https://www.huynle.com/learnings/essentials/>ESSENTIALS</a></li><li><a href=https://www.huynle.com/learnings/essentials/stardard-tools/>STANDARD TOOLS</a></li><li>FLASK 101</li></ol><section class=coverimage><div class=post-header-cover><img src="https://placeholdit.imgix.net/~text?txtsize=33&txt=1300%C3%97400&w=1300&h=400" alt="placeholder 960"></div></section><section class="main post non-narrow zero-top-spacing"><div class=content><div class=front-matter><div class=title-container><div class=page-heading>Flask 101</div></div><div class=meta><div class=date title="Thu Apr 13 2017 07:01:45 UTC">Apr 13, 2017</div><div class=reading-time><div class=middot></div>7 minute read</div></div><div><ul class=update-content></ul></div></div><div class=markdown><p><a href=https://blog.miguelgrinberg.com/post/the-flask-mega-tutorial-part-i-hello-world>Run through this tutorials</a></p><p>Wide range of resources
<a href=http://mattupstate.com/blog/how-i-structure-my-flask-applications/>http://mattupstate.com/blog/how-i-structure-my-flask-applications/</a>
<a href=https://www.digitalocean.com/community/tutorials/how-to-structure-large-flask-applications>https://www.digitalocean.com/community/tutorials/how-to-structure-large-flask-applications</a>
<a href=https://www.fullstackpython.com/flask.html>https://www.fullstackpython.com/flask.html</a>
<a href=http://igordavydenko.com/talks/dneprpy-2/#slide-2>http://igordavydenko.com/talks/dneprpy-2/#slide-2</a></p><p>&ldquo;Microframework for Python&rdquo;</p><h1 id=extensions>Extensions</h1><p>Extensions in Flask is named <em>Flask_</em>
There are a couple of ways that the extension can be initiated</p><h2 id=simple-method>Simple Method</h2><p>This simple method initiate the extension with the flask core app. the extension is exposed and can be used with others.</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=color:#75715e># settings.py</span>
SQLALCHEMY_SCHEMA_URI <span style=color:#f92672>=</span> <span style=color:#e6db74></span><span style=color:#e6db74>&#39;</span><span style=color:#e6db74>postgresql://username:password@host:port/database</span><span style=color:#e6db74>&#39;</span>

<span style=color:#75715e># app.py</span>
<span style=color:#f92672>from</span> flask <span style=color:#f92672>import</span> Flask
<span style=color:#f92672>from</span> flask.ext.sqlalchemy <span style=color:#f92672>import</span> SQLAlchemy

app <span style=color:#f92672>=</span> Flask(__name__)
db <span style=color:#f92672>=</span> SQLAlchemy(app)
<span style=color:#75715e># models.py</span>
<span style=color:#f92672>from</span> .app <span style=color:#f92672>import</span> db

<span style=color:#66d9ef>class</span> <span style=color:#a6e22e>User</span>(db<span style=color:#f92672>.</span>Model):
    id <span style=color:#f92672>=</span> db<span style=color:#f92672>.</span>Column(db<span style=color:#f92672>.</span>Integer, primary_key<span style=color:#f92672>=</span>True)
    username <span style=color:#f92672>=</span> db<span style=color:#f92672>.</span>Column(db<span style=color:#f92672>.</span>String(<span style=color:#ae81ff>64</span>), unique<span style=color:#f92672>=</span>True)
</code></pre></div><h2 id=the-application-factory-method>The Application Factory Method</h2><p>The below method first initiate the extension without the core app and initiate it after. The extension is exposed in the <code>extensions.py</code> file</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=color:#75715e># settings.py</span>
REDIS_URL <span style=color:#f92672>=</span> <span style=color:#e6db74></span><span style=color:#e6db74>&#39;</span><span style=color:#e6db74>redis://localhost:6379/0</span><span style=color:#e6db74>&#39;</span>

<span style=color:#75715e># extensions.py</span>
<span style=color:#f92672>from</span> flask.ext.redis <span style=color:#f92672>import</span> Redis
redis <span style=color:#f92672>=</span> Redis()

<span style=color:#75715e># app.py</span>
<span style=color:#f92672>from</span> flask <span style=color:#f92672>import</span> Flask
<span style=color:#f92672>from</span> .extensions <span style=color:#f92672>import</span> redis

<span style=color:#66d9ef>def</span> <span style=color:#a6e22e>create_app</span>(name, <span style=color:#f92672>.</span><span style=color:#f92672>.</span><span style=color:#f92672>.</span>):
    app <span style=color:#f92672>=</span> Flask(name)
    <span style=color:#f92672>.</span><span style=color:#f92672>.</span><span style=color:#f92672>.</span>
    redis<span style=color:#f92672>.</span>init_app(app)
    <span style=color:#66d9ef>return</span> app

<span style=color:#75715e># views.py</span>
<span style=color:#f92672>from</span> flask <span style=color:#f92672>import</span> render_template
<span style=color:#f92672>from</span> .app <span style=color:#f92672>import</span> create_app

app <span style=color:#f92672>=</span> create_app(<span style=color:#e6db74></span><span style=color:#e6db74>&#39;</span><span style=color:#e6db74>myapp</span><span style=color:#e6db74>&#39;</span>)

<span style=color:#a6e22e>@app.route</span>(<span style=color:#e6db74></span><span style=color:#e6db74>&#39;</span><span style=color:#e6db74>/</span><span style=color:#e6db74>&#39;</span>)
<span style=color:#66d9ef>def</span> <span style=color:#a6e22e>index</span>():
    redis <span style=color:#f92672>=</span> app<span style=color:#f92672>.</span>extensions[<span style=color:#e6db74></span><span style=color:#e6db74>&#39;</span><span style=color:#e6db74>redis</span><span style=color:#e6db74>&#39;</span>]
    <span style=color:#66d9ef>with</span> redis<span style=color:#f92672>.</span>pipeline() <span style=color:#66d9ef>as</span> pipe:
        <span style=color:#f92672>.</span><span style=color:#f92672>.</span><span style=color:#f92672>.</span>
    <span style=color:#66d9ef>return</span> render_template(<span style=color:#e6db74></span><span style=color:#e6db74>&#39;</span><span style=color:#e6db74>index.html</span><span style=color:#e6db74>&#39;</span>, <span style=color:#f92672>.</span><span style=color:#f92672>.</span><span style=color:#f92672>.</span>)
</code></pre></div><h1 id=caveats>Caveats</h1><ul><li>When instantiating forms, pay attention if there should be any input that are needed<ul><li>By having this, file upload could not work and will keep failing</li></ul></li></ul><h1 id=quickstart>Quickstart</h1><p>WSGI application is Flask itself.</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=color:#f92672>from</span> flask <span style=color:#f92672>import</span> flask
app <span style=color:#f92672>=</span> Flask(__name__)
</code></pre></div><h1 id=important-concepts>Important Concepts</h1><ul><li>Blueprints: helps with the extension or construction of an application</li></ul><h1 id=html>HTML</h1><p><code>include</code> and <code>extends</code> for jinja2 are fundamentally different. Note this.
<code>{% include 'nav.html' %}</code> - this will include all the text in the <code>nav.html</code> to the layout
<code>{% extends 'layout.html' %}</code> - this pulls in the html from <code>layout.html</code> and fill the block</p><h1 id=a-webapp>A Webapp</h1><ul><li>a view is a handlers for route requests<ul><li>a <strong>view</strong> function ouputs text in HTML to be rendered by browser</li></ul></li><li>templates - separates logic from layout<ul><li><strong>important rules</strong><ul><li>templates cannot make assumption about what logic gives</li></ul></li><li>dynamic contents are enclused in <code>{{ ... }}</code><ul><li>is &ldquo;{{ }}&rdquo; double brackets used for variables and single used for control statement?</li><li>Flask is default to Jinja2 templating</li><li>when flask <code>render_template</code> it uses the <code>kwargs</code> as dictionary to fill in the dynamic content</li></ul></li><li>can you stack html templates together to build a coeherrent page?<ul><li>yes, this can be done with <code>block</code> control statement with Jinja2<ul><li>&lsquo;blocks&rsquo; are given a unique name to reference in their respective templates</li></ul></li><li><code>extends</code> directive for Jinja2 establishes the inheritance between different templates<ul><li>tells Jinja2 to &lsquo;include&rsquo; the current page to the extended page</li></ul></li></ul></li><li>subtemplating<ul><li>just have to use <code>{% include 'template.html' %}</code> wherever the code is needed</li></ul></li></ul></li><li>webforms<ul><li>Flask-WTF?<ul><li>the <code>form</code> object is an inheritance from <code>from flask_wtf import FlaskForm as Form</code></li><li>&ldquo;Wraps WTForms project in a way that integrates nicely with Flask apps&rdquo;</li><li>for Flask-WTF to work, a configuration page is needed<ul><li>use <code>config.py</code> in the root folder<ul><li><code>WTF_CSRF_ENABLED = True</code><ul><li>if this is set <code>True</code> then in the HTML form. The <code>{{ form.hidden_tag() }}</code> must be included</li></ul></li><li><code>SECRET_KEY = 'you-will-never-guess'</code></li><li>The secret key is needed to validate the form, making the form more secure</li></ul></li></ul></li><li>The form is used by inheriting the <code>Form</code> class from <code>flask_wtf</code><ul><li>The fields are created from instantiating <code>wtforms</code> object<ul><li><code>openid = StringField('openid', validators=[DataRequired()])</code></li><li>these attributes are then used in the HTML form by <code>{{ form.openid }}</code></li><li>TODO: understand why &lsquo;Sign In&rsquo; only registered the first word</li></ul></li></ul></li></ul></li><li>Form-view: instantiate a <code>Form</code> object, use that class to fill in the templates</li><li>With <code>wtform</code> the validation of the fields can be done by using the <code>validator</code> attribute when instantiating the class<ul><li><code>form.validate_on_submit()</code> returns a False if the user has not got a chance to input info</li><li>&lsquo;field&rsquo; object from the <code>WTForm</code> will have an error attribute in <code>form.field_name.errors</code> if there is an attached validator to it</li></ul></li><li><code>flash</code> - a way to debug, and provide visual feedback to user<ul><li>has to be turned on in the templates; update this in the base template</li></ul></li><li>HTML table<ul><li><code>&lt;tr></code> is for table row</li><li><code>&lt;th></code> is for table header</li><li><code>&lt;td></code> is for table data</li></ul></li></ul></li><li>DB in app<ul><li>using the concept of &ldquo;models&rdquo;<ul><li>models allow us to create the structure and retrieve from the database efficiently<ul><li>this means that accessing row attributes is easy by notation and not using SQL itself</li></ul></li><li>allow populating it easy<ul><li><strong>what about fixing and removing??</strong></li></ul></li></ul></li><li>migrating when a new &ldquo;model&rdquo; is introduced is important to writing good software<ul><li><strong>this needs further investigations/learnings</strong></li></ul></li><li>DB upgrade/downgrade is necessary when development<ul><li>since the DB could change from one rev to the next rev of development, the ability to bring back the old DB is essential</li><li>scripts are used to take care of this.. read further in to the <strong>FLASK TUTORIALS</strong></li></ul></li><li>DB is updated by updating the object itself and <code>add</code> and <code>commit</code></li><li>Database relationship<ul><li>One-to-many<ul><li>user -> posts, a user have many posts<ul><li>this one to many is linked by the <em>foreign key</em>, ie. <code>foreign_key = author</code> -> link to posts</li></ul></li></ul></li><li>Many-to-Many<ul><li>eg. <code>students</code> to <code>teachers</code><ul><li>to represent this in DB, an <em>association table</em> is needed</li><li>the association table contains two foreign keys</li></ul></li><li>since <code>students</code> and <code>teachers</code> are both <code>people</code><ul><li>a many-to-many relationship association table would have <em>self-referential relationship</em></li></ul></li></ul></li><li>One-to-one<ul><li>similar to one-to-many, it will be a constrain on the DB to have too &lsquo;many&rsquo;</li></ul></li></ul></li><li>the DB can be queried with SQLAlchemy very efficiently
-It is better to keep the DB object rather than the results of the query</li></ul></li><li>User Login<ul><li>lets worry about Oauth sign in later&mldr; <a href=https://blog.miguelgrinberg.com/post/oauth-authentication-with-flask>https://blog.miguelgrinberg.com/post/oauth-authentication-with-flask</a></li><li>Flask-Login requires the <code>User</code> model to have certain properties</li><li></li></ul></li><li>Unittests<ul><li>add robustness to the code</li><li></li></ul></li><li>Email Server<ul><li><code>python -m smtpd -n -c DebuggingServer localhost:25</code><ul><li>starts a debugging python email server for testing</li></ul></li></ul></li></ul><pre><code>MAIL_SERVER = 'localhost'
MAIL_PORT = 25
MAIL_USERNAME = None
MAIL_PASSWORD = None
</code></pre><ul><li><p>full text search</p><ul><li>flask_whooshalchemy does not support python3</li></ul></li><li><p>PostMan</p><ul><li>OpenID<ul><li>The Open ID has some kind of token request in the back that prevents Postman to run?</li><li>if used OAuth 2.0 then might work?</li></ul></li><li>Use as HTML client, made for debugging and production testing of HTML codes</li><li>when submitting, &ldquo;POST&rdquo;, the settings has to be changed..<ul><li>Now.. need to figure out how to recieve after pressing button?</li></ul></li></ul></li><li><p>SQLAlchemy</p><ul><li>SQL Toolkit and <strong>Object Relational Mapper</strong></li></ul></li><li><p>Flask Varibales</p><ul><li><code>g</code><ul><li>global, place to store and share data during the life of a <strong>request</strong></li></ul></li><li><code>session</code><ul><li>data stored in the session object will be avail during that <strong>REQUEST</strong> and any future requests <strong>MADE BY THE SAME CLIENT</strong></li><li>how does it know when a session start, or when it ends??<ul><li>What is considered a session??<ul><li>session store data on serverside (client cant read/edit it)<ul><li>store and give it and &lsquo;id&rsquo;</li></ul></li></ul></li><li><h2 id=when-deso-a-session-expire>When deso a session expire?</h2></li></ul></li></ul></li></ul></li></ul><p><strong>Flask Specifics</strong></p><ul><li><code>next</code> url<ul><li>Flask stores the original URL for something to be done, ie. logging in, and will return the user there after</li></ul></li></ul><h2 id=templating-engine>Templating Engine</h2><p>Jinja2 Templating
Supports control statements with <code>{%...%}</code></p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-html data-lang=html>&lt;<span style=color:#f92672>html</span>&gt;
  &lt;<span style=color:#f92672>head</span>&gt;
    {% if title %}
    &lt;<span style=color:#f92672>title</span>&gt;{{ title }} - Microblog&lt;/<span style=color:#f92672>title</span>&gt;
    {% else %}
    &lt;<span style=color:#f92672>title</span>&gt;Welcome to The Microblog&lt;/<span style=color:#f92672>title</span>&gt;
    {% endif %}
  &lt;/<span style=color:#f92672>head</span>&gt;
  &lt;<span style=color:#f92672>body</span>&gt;
		&lt;<span style=color:#f92672>h1</span>&gt;Hello, {{ user.nickname }}!&lt;/<span style=color:#f92672>h1</span>&gt;
    {% for post in posts %}
    &lt;<span style=color:#f92672>div</span>&gt;&lt;<span style=color:#f92672>p</span>&gt;{{ post.author.nickname }} says: &lt;<span style=color:#f92672>b</span>&gt;{{ post.body }} &lt;/<span style=color:#f92672>b</span>&gt; &lt;/<span style=color:#f92672>p</span>&gt; &lt;/<span style=color:#f92672>div</span>&gt;
    {% endfor %}
	&lt;/<span style=color:#f92672>body</span>&gt;
&lt;/<span style=color:#f92672>html</span>&gt;
</code></pre></div><p>This allows us to set conditional HTML</p><h2 id=structure-with-flask>Structure with Flask</h2><p>The <code>app</code> module should contain</p><pre><code>microblog\
	flask\
		&lt;virtual environment files&gt;
	app\
		static\
		templates\
		__init__.py
		views.py
	tmp\
	run.py
</code></pre><h2 id=debugging-application>Debugging Application</h2><p>It is recommend to debug flask using <code>flask</code> in the commandline itself</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python>set FLASK_APP<span style=color:#f92672>=</span>app_file<span style=color:#f92672>.</span>py
set FLASK_DEBUG<span style=color:#f92672>=</span><span style=color:#ae81ff>1</span>
flask run
</code></pre></div><p>this will keep the app running while development.</p><p>Additionally, use a REST client</p><h2 id=inputs>Inputs</h2><p>Flask has different string converters that can be used to capture URL inputs. These inputs are listed on their <a href=http://flask.pocoo.org/docs/0.12/quickstart/#a-minimal-application>sites</a>..</p><p>Getting inputs from user to HTML</p><ul><li>HTML has access to Jinja2 Templating and access to <code>request</code>, <code>sessions</code> and <code>g</code> dicts<ul><li>Need a little more understanding on this&mldr;</li></ul></li></ul><p>Accessing Request data</p><h1 id=useful-functions>Useful Functions</h1><p><strong>url_for()</strong>
- get the URL based on function name, use to avoid permanent hardcoding of links.
- this can also be used to retrieve URLS for static files and pages
-
<strong>redirect()</strong> - redirect to the app URL
<strong>render_template()</strong> - allows us to render the full HTML page with the templating and all its attributes plugged in</p><h1 id=application-context>Application Context</h1><p><a href=http://kronosapiens.github.io/blog/2014/08/14/understanding-contexts-in-flask.html>http://kronosapiens.github.io/blog/2014/08/14/understanding-contexts-in-flask.html</a></p><h1 id=questions>Questions</h1><ul><li>What is &ldquo;thread-locals&rdquo; in flask mean?</li><li>how are the methods of <code>GET</code> and <code>POST</code> used in form submission?</li></ul><br></div><div class=navigation><div><img class=icon src=https://www.huynle.com/img/back.svg alt=back>
<a href=https://www.huynle.com/learnings/learning-ssh/>Learning SSH</a></div><div style=width:100%></div><div><a href=https://www.huynle.com/learnings/linux-standard-tools/>Linux Standard Tools</a>
<img class=icon src=https://www.huynle.com/img/next.svg alt=next></div></div><br></div></section><section class="container-fluid footer"><div class=copyright><a href=https://www.huynle.com/license>Copyright © 2017 Huy Le</a></div><div class=icons><a href=https://github.com/huynle target=_blank><img class=icon src=https://www.huynle.com/img/github.svg alt=github></a>
<a href=https://twitter.com/huynle target=_blank><img class=icon src=https://www.huynle.com/img/twitter.svg alt=twitter></a>
<a href=https://www.linkedin.com/in/huynle target=_blank><img class=icon src=https://www.huynle.com/img/linkedin.svg alt=linkedin></a>
<a href=mailto:dacrazyazn@gmail.com><img class=icon src=https://www.huynle.com/img/email.svg alt=email></a>
<a href=https://www.huynle.com/index.xml><img class=icon src=https://www.huynle.com/img/rss.svg alt=rss></a></div></div></section><script src=https://ajax.googleapis.com/ajax/libs/webfont/1.6.26/webfont.js></script><script>WebFont.load({google:{families:['Raleway:400,600,700','Merriweather:300,300i,700,700i','Ubuntu+Mono:400,700']}});</script><script src=https://www.huynle.com/js/highlight.min.js defer></script><script src=https://www.huynle.com/js/progressively.min.js defer></script><script>window.onload=function(){hljs.initHighlighting();progressively.init({delay:30,throttle:50});};</script></body></html>