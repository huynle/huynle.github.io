<!doctype html><html lang=en-us><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="chrome=1"><meta name=HandheldFriendly content="True"><meta name=MobileOptimized content="320"><meta name=viewport content="width=device-width,initial-scale=1"><meta name=referrer content="no-referrer"><meta name=description content="A Blog on Hardware and Software Development"><meta property="twitter:site" content="@huynle"><meta property="twitter:title" content="Upgrade K8200 Controller Board"><meta property="twitter:card" content="summary_large_image"><meta property="twitter:image" content="https://www.huynle.com/img/banner.png"><meta property="twitter:description" content><title>Huy Le - Upgrade K8200 Controller Board</title><link rel=canonical href=https://www.huynle.com/projects/upgrade-k8200-controller-board/><meta name=viewport content="user-scalable=no,width=device-width,initial-scale=1,maximum-scale=1"><script type=text/javascript src=https://cdnjs.cloudflare.com/ajax/libs/jquery/2.1.1/jquery.min.js></script><link href=https://unpkg.com/nanogallery2/dist/css/nanogallery2.min.css rel=stylesheet type=text/css><script type=text/javascript src=https://unpkg.com/nanogallery2/dist/jquery.nanogallery2.min.js></script><script src=https://ajax.googleapis.com/ajax/libs/jquery/3.2.0/jquery.min.js></script><link rel=stylesheet href=https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css integrity=sha384-Vkoo8x4CGsO3+Hhxv8T/Q5PaXtkKtu6ug5TOeNV6gBiFeWPGFN9MuhOf23Q9Ifjh crossorigin=anonymous><script src=https://code.jquery.com/jquery-3.4.1.slim.min.js integrity=sha384-J6qa4849blE2+poT4WnyKhv5vZF5SrPo0iEjwBvKU7imGFAV0wwj1yYfoRSJoZ+n crossorigin=anonymous></script><script src=https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js integrity=sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo crossorigin=anonymous></script><script src=https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/js/bootstrap.min.js integrity=sha384-wfSDF2E50Y2D1uUdj0O3uMBJnjuUD4Ih7YwaYd1iqfktj0Uod8GCExl3Og8ifwB6 crossorigin=anonymous></script><style media=screen>@font-face{font-family:nexa bold;src:url('/fonts/Nexa Bold.otf')}html,body,div,span,applet,object,iframe,h1,h2,h3,h4,h5,h6,p,blockquote,pre,a,abbr,acronym,address,big,cite,code,del,dfn,em,img,ins,kbd,q,s,samp,small,strike,strong,sub,tt,var,b,u,i,center,dl,dt,dd,ol,ul,li,fieldset,form,label,legend,table,caption,tbody,tfoot,thead,tr,th,td,article,aside,canvas,details,embed,figure,figcaption,footer,header,hgroup,menu,nav,output,ruby,section,summary,time,mark,audio,video{margin:0;padding:0;border:0;font-size:100%;font:inherit;vertical-align:baseline}article,aside,details,figcaption,figure,footer,header,hgroup,menu,nav,section{display:block}body{line-height:1}ol,ul{list-style:none}blockquote,q{quotes:none}blockquote:before,blockquote:after,q:before,q:after{content:'';content:none}table{border-collapse:collapse;border-spacing:0}*,*:before,*:after{box-sizing:border-box}a,a:visited,a:focus,a:active{text-decoration:none}html{height:100%;font-size:16px}body{display:-webkit-flex;display:-moz-flex;display:-ms-flexbox;display:-ms-flex;display:flex;-webkit-flex-direction:column;-moz-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-align-items:center;-moz-align-items:center;-ms-align-items:center;align-items:center;-webkit-justify-content:flex-start;-moz-justify-content:flex-start;-ms-justify-content:flex-start;justify-content:flex-start;width:100%;min-height:100%;font-weight:400;color:#111;line-height:1.6;text-rendering:optimizeLegibility!important}.icon{text-rendering:geometricPrecision!important}section{-webkit-align-items:center;-moz-align-items:center;-ms-align-items:center;-webkit-justify-content:center;-moz-justify-content:center;-ms-justify-content:center;justify-content:center;align-items:center;width:100%;display:block;padding-bottom:0}section.header .content{align-items:center;display:-webkit-flex;display:-moz-flex;display:-ms-flexbox;display:-ms-flex;display:table;-webkit-flex-direction:column;-moz-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-align-items:center;-moz-align-items:center;-ms-align-items:center;width:100%}section.header .logo{}section.header .name{font-size:50px;font-family:nexa bold,helvetica neue,arial,sans-serif;letter-spacing:.1rem;text-transform:uppercase;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-smoothing:antialiased;color:#333;color:#555}.left-div{display:table-cell;text-align:right;vertical-align:middle;width:50vw}.right-div{display:table-cell;text-align:left;width:50vw;vertical-align:middle}nav{width:100%;-webkit-align-items:center;-moz-align-items:center;-ms-align-items:center;align-items:center;-webkit-justify-content:center;-moz-justify-content:center;-ms-justify-content:center;justify-content:center;background-color:transparent;border-color:transparent}.navbar{background-color:transparent;border-color:transparent}nav ul li{color:#555;font-weight:400;font-size:14px;text-transform:uppercase;font-family:helvetica neue,arial,sans-serif;-webkit-transition:color .1s cubic-bezier(0.47,0,0.75,0.72);-moz-transition:color .1s cubic-bezier(0.47,0,0.75,0.72);-ms-transition:color .1s cubic-bezier(0.47,0,0.75,0.72);-o-transition:color .1s cubic-bezier(0.47,0,0.75,0.72)}nav ul li:hover{color:#111}.navbar-nav li:hover>ul.dropdown-menu{display:block}.dropdown-menu{margin-top:0}.dropdown-submenu{position:relative}.dropdown-submenu>.dropdown-menu{top:0;left:100%;margin-top:-6px}rotate caret on hover .dropdown-menu>li>a:hover:after{text-decoration:underline;transform:rotate(-90deg)}.search-box{text-align:center}section.footer{-webkit-align-items:center;-moz-align-items:center;-ms-align-items:center;align-items:center;-webkit-justify-content:center;-moz-justify-content:center;-ms-justify-content:center;justify-content:center;flex-direction:column-reverse;width:100%;text-align:center}section.footer a{font-size:14px;margin-left:6px;margin-right:6px;opacity:.6;-webkit-transition:opacity .1s cubic-bezier(0.47,0,0.75,0.72);-moz-transition:opacity .1s cubic-bezier(0.47,0,0.75,0.72);-ms-transition:opacity .1s cubic-bezier(0.47,0,0.75,0.72);-o-transition:opacity .1s cubic-bezier(0.47,0,0.75,0.72)}section.footer a:first-child{margin-left:0}section.footer a:last-child{margin-right:0}section.footer a:hover{opacity:.8}section.footer .icon{width:16px;height:16px}section.footer .copyright{flex-grow:.5;text-align:start}section.footer .icons{flex-grow:.5;text-align:end}section.main .container{-webkit-align-items:center;-moz-align-items:center;-ms-align-items:center;align-items:center;-webkit-justify-content:flex-start;-moz-justify-content:flex-start;-ms-justify-content:flex-start;justify-content:flex-start}section.main .content{color:#111;font-size:14px}section.main .content .title-container{display:-webkit-flex;display:-moz-flex;display:-ms-flexbox;display:-ms-flex;display:flex;-webkit-justify-content:space-between;-moz-justify-content:space-between;-ms-justify-content:space-between;justify-content:space-between}section.main .content .article{margin-bottom:10px}section.main .content .article .date,section.main .content .article .name{font-size:15px;font-weight:700}section.main .content .posts{margin-bottom:4em}section.main .content .page-heading{font-size:20px;font-weight:700;font-family:helvetica neue,arial,sans-serif;letter-spacing:-.005rem;text-transform:uppercase;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-smoothing:antialiased;color:#333;margin-bottom:5px}section.main .content .group-heading{font-size:14px;font-weight:700;font-family:helvetica neue,arial,sans-serif;letter-spacing:-.005rem;text-transform:uppercase;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-smoothing:antialiased;color:#333;margin-bottom:0}section.main .content .front-matter .page-heading{margin-bottom:0}section.main .content .front-matter .updates-heading{font-size:17px;text-transform:uppercase;font-weight:600}section.main .content .front-matter .update-content{font-size:14px;color:#790202;margin-bottom:30px}section.main .content .front-matter .update-content li{margin-left:20px;list-style-type:circle}section.main .content .front-matter .meta{font-size:14px;color:#666;display:-webkit-flex;display:-moz-flex;display:-ms-flexbox;display:-ms-flex;display:flex;margin-bottom:10px}section.main .content .front-matter .date,section.main .content .front-matter .author,section.main .content .front-matter .tags,section.main .content .front-matter .word-count,section.main .content .front-matter .reading-time .middot{display:none}section.main .content .front-matter .middot{font-size:6px;margin:0 6px;display:inline;vertical-align:middle}section.main .content .front-matter .middot:before{content:"•"}section.main .content .front-matter .tags ul{display:-webkit-flex;display:-moz-flex;display:-ms-flexbox;display:-ms-flex;display:flex;-webkit-flex-direction:row;-moz-flex-direction:row;-ms-flex-direction:row;flex-direction:row;-webkit-align-items:center;-moz-align-items:center;-ms-align-items:center;align-items:center}section.main .content .front-matter .tags ul li{-webkit-transition:opacity .1s cubic-bezier(0.47,0,0.75,0.72);-moz-transition:opacity .1s cubic-bezier(0.47,0,0.75,0.72);-ms-transition:opacity .1s cubic-bezier(0.47,0,0.75,0.72);-o-transition:opacity .1s cubic-bezier(0.47,0,0.75,0.72)}section.main .content .front-matter .tags ul li:hover{opacity:.7}section.main .content .front-matter .tags ul li a{color:#666}section.main .container.f04{-webkit-justify-content:center;-moz-justify-content:center;-ms-justify-content:center;justify-content:center}section.main .container.f04 .content{display:-webkit-flex;display:-moz-flex;display:-ms-flexbox;display:-ms-flex;display:flex;-webkit-flex-direction:column;-moz-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-align-items:center;-moz-align-items:center;-ms-align-items:center;align-items:center}section.main .container.f04 .content .num{margin:30px 0 30px 0;font-weight:400;font-family:helvetica neue,arial,sans-serif;font-size:50px}section.main .container.f04 .content .detail{margin-bottom:40px}section.main .container .content .groupby{margin-top:1em;padding-left:.5em}section.main .container .content .post-item{display:-webkit-flex;display:-moz-flex;display:-ms-flexbox;display:-ms-flex;display:flex;-webkit-align-items:center;-moz-align-items:center;-ms-align-items:center;align-items:center;display:list-item;list-style:disc inside}section.main .container .content .post-item .meta{font-size:14px;color:#666;display:none;min-width:100px}section.main .container .content .see-more{font-style:italic;float:right;font-size:.9em;margin-top:2em;color:#313537}section.main .container .content .see-more:hover{color:#666}section{padding:0 16px}section.header-home{padding-top:36px}section.main{padding-top:32px;display:block}section.main .container .content .post-item .meta{display:block}section.main .container .content .post-item{display:flex;list-style:none}a{color:#428bca;-webkit-transition:color .1s cubic-bezier(0.47,0,0.75,0.72);-moz-transition:color .1s cubic-bezier(0.47,0,0.75,0.72);-ms-transition:color .1s cubic-bezier(0.47,0,0.75,0.72);-o-transition:color .1s cubic-bezier(0.47,0,0.75,0.72)}a:hover{color:#2a6496}img{max-width:100%}section.coverimage{width:100%;max-width:100%}section.main .content{width:100%}section.main .content .markdown{font-size:1.1em;line-height:1.75em;color:#313537;font-family:serif;font-weight:300}section.main .content .markdown h1,section.main .content .markdown h2,section.main .content .markdown h3,section.main .content .markdown h4,section.main .content .markdown h5,section.main .content .markdown h6{font-size:22px;font-family:helvetica neue,arial,sans-serif;letter-spacing:-.005rem;font-weight:700;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;font-smoothing:antialiased;color:#333;text-transform:none;margin-top:1.75rem}section.main .content .markdown h1{font-size:1.75rem;margin-bottom:2rem}section.main .content .markdown h2{font-size:1.5rem;margin-bottom:1.5rem}section.main .content .markdown h3{font-size:1em;margin-bottom:1rem}section.main .content .markdown h4,section.main .content .markdown h5,section.main .content .markdown h6{font-size:1rem;margin-bottom:1rem;letter-spacing:none}section.main .content .markdown code,section.main .content .markdown pre{font-family:menlo,monospace;font-size:.98rem;background-color:#f7f7f7}section.main .content .markdown code{padding:.15em .5em;border-radius:2px}section.main .content .markdown pre{display:block;margin-top:1rem;margin-bottom:2rem;padding:1rem;line-height:1.5em;white-space:pre;word-break:break-all;word-wrap:break-word}@media(min-width:769px){section.main .content .markdown pre{width:110%;margin-left:-4%}}section.main .content .markdown pre code{padding:0;font-size:.9rem}section.main .content .markdown a code{color:#428bca!important}section.main .content .markdown a code:hover{text-decoration:underline}section.main .content .markdown p{text-align:justify;margin-top:0;margin-bottom:1em}section.main .content .markdown ul,section.main .content .markdown ol,section.main .content .markdown dl{margin-top:1rem;margin-bottom:2rem}section.main .content .markdown dt{font-weight:700}section.main .content .markdown dd{margin-bottom:.5rem}section.main .content .markdown ul{list-style-type:disc;list-style-position:outside;margin-bottom:1.25rem}section.main .content .markdown ol{list-style-type:decimal;margin-bottom:1.25rem}section.main .content .markdown li{margin-left:2em}section.main .content .markdown em{font-style:italic}section.main .content .markdown strong{font-weight:700}section.main .content .markdown hr{position:relative;margin:1.75rem 0;border:0;border-top:1px solid gray;border-top:1px solid #999}section.main .content .markdown abbr{font-size:.85rem;font-weight:700;color:#666;text-transform:uppercase}section.main .content .markdown abbr[title]{cursor:help;border-bottom:1px dotted gray}section.main .content .markdown blockquote{padding:.5rem 1rem;margin:.8rem 0;color:#7a7a7a;border-left:.25rem solid #e5e5e5}section.main .content .markdown blockquote p:last-child{margin-bottom:0}section.main .content .markdown figure{width:100%;background:#fff;margin-bottom:1em}section.main .content .markdown figure img{width:100%;height:auto;max-width:100%;display:block;position:static;margin:auto}section.main .content .markdown table{margin-bottom:1rem;width:100%;border:1px solid #e5e5e5;border-collapse:collapse}section.main .content .markdown td,section.main .content .markdown th{padding:.25rem .5rem;border:1px solid #e5e5e5}section.main .content .markdown tbody tr:nth-child(odd) td,section.main .content .markdown tbody tr:nth-child(odd) th{background-color:#f7f7f7}section.main .content .markdown .footnotes ol{list-style-type:decimal;margin-left:16px}section.main .content .markdown .footnotes li{list-style-type:unset}section.main .content .markdown .footnote-ref{font-size:.7em}section.main .content .navigation{display:-webkit-flex;display:-moz-flex;display:-ms-flexbox;display:-ms-flex;display:flex;-webkit-flex-direction:column;-moz-flex-direction:column;-ms-flex-direction:column;flex-direction:column;-webkit-align-items:center;-moz-align-items:center;-ms-align-items:center;align-items:center}section.main .content .navigation div{display:-webkit-flex;display:-moz-flex;display:-ms-flexbox;display:-ms-flex;display:flex;-webkit-flex-direction:row;-moz-flex-direction:row;-ms-flex-direction:row;flex-direction:row;-webkit-align-items:center;-moz-align-items:center;-ms-align-items:center;align-items:center;margin-top:1em}section.main .content .navigation .icon{width:16px;height:16px}section.main .content .navigation a{width:250px;margin-left:1em;text-align:center;font-style:italic;color:#313537}.breadcrumb{font-size:10px;background-color:transparent}.wf-raleway-n4-active body,.wf-raleway-n4-active section.header nav ul li,.wf-raleway-n7-active section.main .content .page-heading,.wf-raleway-n2-active section.main .container.f04 .content .num,.wf-raleway-n7-active section.main .content .markdown h1,.wf-raleway-n7-active section.main .content .markdown h2,.wf-raleway-n7-active section.main .content .markdown h3,.wf-raleway-n7-active section.main .content .markdown h4,.wf-raleway-n7-active section.main .content .markdown h5,.wf-raleway-n7-active section.main .content .markdown h6{font-family:raleway}.wf-merriweather-n3-active section.main .content .markdown{font-family:merriweather}.wf-ubuntu-mono-n4-active section.main .content .markdown code,.wf-ubuntu-mono-n4-active section.main .content .markdown pre{font-family:ubuntu mono}.no-padding{padding-left:0;padding-right:0;height:200px}<`2`><`2`><`2`><`2`></style><style media="(min-width: 1024px)">body{-webkit-justify-content:center;-moz-justify-content:center;-ms-justify-content:center;justify-content:center}.non-narrow.zero-top-spacing{padding-top:0!important}section{padding:0 16px;margin-left:10%;margin-right:10%;max-width:80%}section.header{background-color:transparent}section.header .container{-webkit-justify-content:flex-start;-moz-justify-content:flex-start;-ms-justify-content:flex-start;justify-content:flex-start}section.header .container .logo{margin:0}section.header-home .container .logo{max-width:180px;margin-left:20px}section.header-home .name-home{padding-top:30px;font-size:40px}section.header-home nav ul li{font-size:18px}section.header .content{-webkit-align-items:flex-start;-moz-align-items:flex-start;-ms-align-items:flex-start;align-items:flex-start}section.header .name{color:#333}section.header nav{font-size:14px;margin-bottom:0}section.header nav ul{text-align:left}section.header nav ul li{color:#666}section.header nav ul li:hover{color:#333}section.footer{background-color:transparent}section.footer .container{flex-direction:row}section.footer .container a{margin-left:3px;margin-right:3px;color:#666}section.footer .container a:hover{color:#333}section.footer .container a .icon{font-size:18px}section.footer .container a .icon.larger{font-size:20px}section.main .content .front-matter .date,section.main .content .front-matter .author,section.main .content .front-matter .tags,section.main .content .front-matter .word-count,section.main .content .front-matter .reading-time .middot{display:initial}section.main .container.f04{-webkit-justify-content:flex-start;-moz-justify-content:flex-start;-ms-justify-content:flex-start;justify-content:flex-start}section.main .container.f04 .content{-webkit-align-items:flex-start;-moz-align-items:flex-start;-ms-align-items:flex-start;align-items:flex-start}section.main .container.f04 .content .num{margin:0 0 10px;font-size:32px}section.main .container.f04 .content .detail{margin-bottom:30px}.container{padding:0 30px}section.header{padding-top:60px;padding-bottom:10px}section.footer{padding-top:30px;padding-bottom:60px}section.main{padding-top:0}section.main .container .content .post-item{display:flex;list-style:none;padding-left:1.5em}section.main .container .content .post-item .meta{display:block}section.main.post{padding-top:60px;padding-bottom:60px}section.main .content .markdown blockquote{padding-right:5rem;padding-left:1.25rem}section.main .content .navigation{-webkit-flex-direction:row;-moz-flex-direction:row;-ms-flex-direction:row;flex-direction:row}section.main .content .navigation div{margin-top:0}</style><style media="(min-width: 1500px)">section{padding:0 16px;margin-left:10%;margin-right:10%;max-width:1024px}section.main .content .markdown figure{width:110%;margin-left:-4%}section.main .content .markdown img{max-width:110%;width:110%;margin-left:-4%}</style><noscript><link href="https://fonts.googleapis.com/css?family=Raleway:400,600,700" rel=stylesheet><link href="https://fonts.googleapis.com/css?family=Merriweather:300,300i,700,700i" rel=stylesheet><link href="https://fonts.googleapis.com/css?family=Ubuntu+Mono:400,700" rel=stylesheet></noscript><style type=text/css media=screen>.hljs{display:block;background:#fff;padding:.5em;color:#333;overflow-x:auto}.hljs-comment,.hljs-meta{color:#969896}.hljs-string,.hljs-variable,.hljs-template-variable,.hljs-strong,.hljs-emphasis,.hljs-quote{color:#df5000}.hljs-keyword,.hljs-selector-tag,.hljs-type{color:#a71d5d}.hljs-literal,.hljs-symbol,.hljs-bullet,.hljs-attribute{color:#0086b3}.hljs-section,.hljs-name{color:#63a35c}.hljs-tag{color:#333}.hljs-title,.hljs-attr,.hljs-selector-id,.hljs-selector-class,.hljs-selector-attr,.hljs-selector-pseudo{color:#795da3}.hljs-addition{color:#55a532;background-color:#eaffea}.hljs-deletion{color:#bd2c00;background-color:#ffecec}.hljs-link{text-decoration:underline}</style><style type=text/css media=screen>.progressive{overflow:hidden;position:relative;background:#efefef}.progressive__img{width:100%;height:100%;position:absolute;-webkit-transform:translateZ(0);transform:translateZ(0)}.progressive--not-loaded{filter:blur(30px);-webkit-filter:blur(30px)}.progressive--is-loaded{filter:blur(20px);-webkit-filter:blur(20px);-webkit-animation:sharpen .5s both;animation:sharpen .5s both}@-webkit-keyframes sharpen{from{filter:blur(20px);-webkit-filter:blur(20px)}to{filter:blur(0);-webkit-filter:blur(0)}}@keyframes sharpen{from{filter:blur(20px);-webkit-filter:blur(20px)}to{filter:blur(0);-webkit-filter:blur(0)}}</style><style type=text/css media=screen>a{color:#527fc1f}a:hover{color:#1a3152}section.main .content .markdown,section.header .name,section.header nav ul li:hover{color:#181d2a}section.header nav ul li{color:#6a7a8b}section.main .content .markdown code{background-color:#f9f9f9;color:#527fc1f}section.main .content .markdown pre,section.main .content .markdown pre code{background-color:#282a36;color:#87a5d2}.hljs,.hljs-subst,.hljs-variable{color:#87a5d2}.hljs-type{color:#97d28b}.hljs-quote{color:#ffcb8d}.hljs-string,.hljs-number,.hljs-selector-id,.hljs-selector-class,.hljs-template-tag,.hljs-deletion{color:#96c2d7}.hljs-comment{color:#6a7a8b}.hljs-regexp,.hljs-symbol,.hljs-template-variable{color:#ffcb8d}.hljs-keyword,.hljs-attribute,.hljs-meta-keyword,.hljs-doctag,.hljs-name{color:#97d28b}.hljs-link,.hljs-selector-attr,.hljs-selector-pseudo,.hljs-title,.hljs-section{color:#ff8e91}.hljs-built_in,.hljs-bullet,.hljs-code,.hljs-addition{color:#97d28b}</style><link rel=stylesheet href=https://www.huynle.com/css/custom.css><link rel="shortcut icon" href=https://www.huynle.com/img/favicon.png><script type=application/javascript>var doNotTrack=false;if(!doNotTrack){(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');ga('create','UA-41899218-5','auto');ga('send','pageview');}</script></head><body><section class=header><div><div class=left-div><a href=https://www.huynle.com/ class=logo><img src=https://www.huynle.com/img/favicon.png alt=logo></a></div><div class=right-div><a href=https://www.huynle.com/ class=name>Huy Le</a></div></div><nav class="navbar navbar-expand-lg navbar-light rounded"><button class=navbar-toggler type=button data-toggle=collapse data-target=#navbarc aria-controls=navbarsExample10 aria-expanded=false aria-label="Toggle navigation">
<span class=navbar-toggler-icon></span></button><div class="collapse navbar-collapse justify-content-md-center" id=navbarc><ul class=navbar-nav><li class="nav-item dropdown"><a class="nav-link dropdown-toggle" href=https://www.huynle.com/projects/ id=navbarDropdownMenuLink data-toggle=dropdown aria-haspopup=true aria-expanded=false>projects</a><ul class=dropdown-menu aria-labelledby=navbarDropdownMenuLink><li class=dropdown-item><a href=https://www.huynle.com/projects/>All</a></li><li class=dropdown-item><a href=https://www.huynle.com/projects/k8200/>K8200</a></li><li class=dropdown-item><a href=https://www.huynle.com/projects/custom-vim/>Custom Vim</a></li><li class=dropdown-item><a href=https://www.huynle.com/projects/flamewheel-450/>DJI Flamewheel 450</a></li><li class=dropdown-item><a href=https://www.huynle.com/projects/k40-laser/>K40-Laser</a></li><li class=dropdown-item><a href=https://www.huynle.com/projects/px4/>PX4</a></li><li class=dropdown-item><a href=https://www.huynle.com/projects/ilawn/>iLawn</a></li><li class=dropdown-item><a href=https://www.huynle.com/projects/esp/>ESP MCU</a></li></ul></li><li class="nav-item dropdown"><a class="nav-link dropdown-toggle" href=https://www.huynle.com/learnings/ id=navbarDropdownMenuLink data-toggle=dropdown aria-haspopup=true aria-expanded=false>learnings</a><ul class=dropdown-menu aria-labelledby=navbarDropdownMenuLink><li class=dropdown-item><a href=https://www.huynle.com/learnings/>All</a></li><li class=dropdown-item><a href=https://www.huynle.com/learnings/resources/>Resources</a></li><li class=dropdown-submenu><a class="dropdown-item dropdown-toggle" href=https://www.huynle.com/learnings/essentials/>Essentials</a><ul class=dropdown-menu aria-labelledby=navbarDropdownMenuLink><li class=dropdown-item><a href=https://www.huynle.com/learnings/essentials/stardard-tools/>Standard Tools</a></li></ul></li><li class=dropdown-item><a href=https://www.huynle.com/learnings/cpp/>Learning C++</a></li></ul></li><li class="nav-item dropdown"><a class="nav-link dropdown-toggle" href=https://www.huynle.com/series/ id=navbarDropdownMenuLink data-toggle=dropdown aria-haspopup=true aria-expanded=false>series</a><ul class=dropdown-menu aria-labelledby=navbarDropdownMenuLink><li class=dropdown-item><a href=https://www.huynle.com/series/>All</a></li><li class=dropdown-item><a href=https://www.huynle.com/series/how-to/>how to</a></li><li class=dropdown-item><a href=https://www.huynle.com/series/thoughts/>thoughts</a></li></ul></li><li class="nav-item active"><a class=nav-link href=https://www.huynle.com/about/>About</a></li></ul></div></nav><div class=search-box><form action=https://www.huynle.com/search/><input id=search-query name=q></form></div></section><div><ol class=breadcrumb><li><a href=https://www.huynle.com/><p>HOME/</p></a></li><li><a href=https://www.huynle.com/projects/><p>PROJECTS/</p></a></li><li><a href=https://www.huynle.com/projects/k8200/><p>K8200/</p></a></li><li>UPGRADE K8200 CONTROLLER BOARD</li></ol></div><section class=coverimage></section><section class="main post non-narrow zero-top-spacing"><div class=content><div class=front-matter><div class=title-container><div class=page-heading>Upgrade K8200 Controller Board</div></div><div class=meta><div class=date title="Thu Sep 8 2016 17:47:37 UTC">Sep 8, 2016</div><div class=reading-time><div class=middot></div>9 minute read</div></div><div><ul class=update-content></ul></div></div><div class=markdown><p>I realized it takes a very long time for the heated-bed to get up to temperature and start printing. This was one of the main reason why I did not use it as often as I originally intended.</p><p>With a slew of difficulties, e.g. Z-wobble and first layer not adhering to the board. The K8200 soon became a project of it&rsquo;s own. In short, this is the start to making the K8200 be usable, as an everyday tool.</p><p>If you want to skip the details, jump to the [integration part][integration-header].</p><h1 id=objective>Objective</h1><p>Before actually getting to update the K8200, I had to update the controller board. This is my fault for burning the Sanglougini board that came with the K8200.</p><p>This post will concentrate on understanding the make up of a controller board and its role in a 3D printer.
Changed controller board to ([RAMPS 1.4][]) and [Arduino Mega 2560].</p><h1 id=background>Background</h1><p>A controller for a 3D printer is a microcontroller with special circuitries to handle specifics of controller stepper motors.</p><h2 id=controller-board>Controller Board</h2><p>There are many different version of controller boards that can be used for 3D printing and a couple of different configurations:</p><ol><li>Integrated microcontroller and stepper circuitries on one board</li><li>Dedicated microcontroller and a shield that has all the circuities needed</li></ol><p>The Sanglougini, chosen by Velleman for its K8200 printer, is the first of the two. It has the advantage of being small, integrated and &lsquo;production&rsquo; ready. This is not as much of a hackable solution of the two. The second configuration is something akin to an Arduino board that attaches to controller shield, like the <em>RAMPS 1.4</em>.</p><p>Due to the budget, time constraint (not really, can&rsquo;t get away from Amazon Prime), and the hack-ability, I went with the second option.</p><h2 id=the-firmware>The Firmware</h2><p>The 3D printing community is very large and very active, therefore, we have countless of combinations and type of hardware that can drive a 3D printer, 3D cutter, bio-printer, etc. But in order for these controller to be able to send out meaningful signals that move the printhead to an exact location, it is dependent on the firmware.</p><p>Not &lsquo;hardware&rsquo; or &lsquo;software&rsquo;, but &lsquo;firmware&rsquo;; somewhere in the middle that allows the software to interact with the hardware.</p><p>From searching around, it seems to me that the Marlin firmware for 3D printing is a popular and widely supported option. Maybe thats why K8200 and almost all other 3D hobbyist 3D printer use it. [<strong>And because it supported this hardware configurations</strong>][marlin-hardware-support]. For the sake of time and drive to get K8200 to be a tool rather than a project, I stuck with the Marlin firmware for this upgrade. By doing so, it allows me to reuse <strong>some</strong> of the calibration constants and configurations that has already been defined by the K8200 original firmware.</p><h2 id=the-final-setup>The Final Setup</h2><p>Controller Board - [RAMPS1.4][amazon-ramp] + [Arduino Mega 2560][amazon-mega] (cheapest option on Amazon)
Firmware - [Marlin][marlin-github]</p><h1 id=putting-it-all-together>Putting it All Together</h1><p>As with any project, this section of the post only shows you the smooth path to project completion.</p><h2 id=firmware-for-arduino-mega-2560>Firmware for Arduino Mega 2560</h2><p>Using Git T</p><h2 id=hardware>Hardware</h2><h2 id=summary>Summary</h2><p>of hardware out there. But how do you know what hardware works with what firmware. In order for you to have a working product, the</p><p>Digging into it, I found that Marlin is a widely used firmware</p><p>The original K8200 uses the Marlin firmware on Sanglougini controller board.</p><ul><li>could have chosen a different firmware with the new RAMPS 1.4 board, the the Marlin seems l</li></ul><h2 id=final-setup>Final Setup</h2><h2 id=upgrading-to-300w>Upgrading to 300W</h2><hr><h1 id=learnings>Learnings</h1><h2 id=ide-for-arduino>IDE for Arduino</h2><h2 id=the-ramps-14-board>The RAMPS 1.4 Board</h2><h2 id=k8200-uses-the-marlin>K8200 uses the Marlin</h2><p>k8200 using the Marlin Firmware. Supports RAMPS 1.4 boards</p><h3 id=parts>Parts</h3><ul><li>Then there is Amazon</li></ul><hr><h3 id=schematics-and-layout>Schematics and Layout</h3><ul><li><a href=http://www.reprap.org/wiki/RAMPS_1.4>YAYY for open source!</a></li><li><a href=http://www.reprap.org/mediawiki/images/0/06/RAMPS_dossier.pdf>assembly link</a></li></ul><hr><h3 id=marlin-firmware-modification>Marlin Firmware Modification</h3><p>Dig around for configuration Constants
<a href=http://solidutopia.com/marlin-firmware-user-guide-basic/>Found this</a></p><ul><li>baudrate at 250,000 due to clock frequency at 16Mhz</li></ul><ul><li><p><a href=http://wiki.e3d-online.com/wiki/E3D-v6_Assembly#Marlin>new E3D V6 Hotend</a></p><ul><li>Settings here are to be updated in the firmware</li></ul></li><li><p>Thermal Settings
options for temp sensors</p></li></ul><pre><code>{ '0': &quot;Not used&quot;
'1':&quot;100k / 4.7k - EPCOS&quot;
'2':&quot;200k / 4.7k - ATC Semitec 204GT-2&quot;
'3':&quot;Mendel-parts / 4.7k&quot;
'4':&quot;10k !! do not use for a hotend. Bad resolution at high temp. !!&quot;
'5':&quot;100K / 4.7k - ATC Semitec 104GT-2 (Used in ParCan &amp; J-Head)&quot;
'6':&quot;100k / 4.7k EPCOS - Not as accurate as Table 1&quot;
'7':&quot;100k / 4.7k Honeywell 135-104LAG-J01&quot;
'8':&quot;100k / 4.7k 0603 SMD Vishay NTCS0603E3104FXT&quot;
'9':&quot;100k / 4.7k GE Sensing AL03006-58.2K-97-G1&quot;
'10':&quot;100k / 4.7k RS 198-961&quot;
'11':&quot;100k / 4.7k beta 3950 1%&quot;
'12':&quot;100k / 4.7k 0603 SMD Vishay NTCS0603E3104FXT (calibrated for Makibox hot bed)&quot;
'13':&quot;100k Hisens 3950  1% up to 300°C for hotend 'Simple ONE ' &amp; hotend 'All In ONE'&quot;
'20':&quot;PT100 (Ultimainboard V2.x)&quot;
'51':&quot;100k / 1k - EPCOS&quot;
'52':&quot;200k / 1k - ATC Semitec 204GT-2&quot;
'55':&quot;100k / 1k - ATC Semitec 104GT-2 (Used in ParCan &amp; J-Head)&quot;
'60':&quot;100k Maker's Tool Works Kapton Bed Thermistor beta=3950&quot;
'66':&quot;Dyze Design 4.7M High Temperature thermistor&quot;
'70':&quot;the 100K thermistor found in the bq Hephestos 2&quot;
'71':&quot;100k / 4.7k Honeywell 135-104LAF-J01&quot;
'147':&quot;Pt100 / 4.7k&quot;
'1047':&quot;Pt1000 / 4.7k&quot;
'110':&quot;Pt100 / 1k (non-standard)&quot;
'1010':&quot;Pt1000 / 1k (non standard)&quot;
'-3':&quot;Thermocouple + MAX31855 (only for sensor 0)&quot;
'-2':&quot;Thermocouple + MAX6675 (only for sensor 0)&quot;
'-1':&quot;Thermocouple + AD595&quot;
'998':&quot;Dummy 1&quot;
'999':&quot;Dummy 2&quot; }
</code></pre><ul><li><p>took out <code>#define HEATER_*_MAXTEMP</code> since didnt have any heater</p></li><li><p><a href="https://www.youtube.com/watch?v=Ta55NTSBLN0">learn how to crimp!</a></p></li><li><p>running test <a href=http://www.reprap.org/wiki/RAMPS_1.4>code</a></p></li></ul><hr><p>turn on Power supply with PS_ON
M80 - Turn on power supply
M81 - Turn off power supply</p><p>The output is inverted
Using a <a href=https://www.ghielectronics.com/downloads/man/20084141716341001RelayX1.pdf>relay</a>
can be used to switch the power supply on and off.</p><p>default -> atx power supply pull down to turn on..
in configuration code <code>POWER_SUPPLY</code> was set to 2, invert from original</p><p>now initialize G-code turn on the power supply automatically, want this to turn on
<strong>cant do it just yet</strong></p><p>tried to three-way sync with working config and example configuration</p><hr><h3 id=testing-motor>Testing motor</h3><p>before hooking everything online, need to test the with <a href=http://reprap.org/wiki/Pronterface#Windows>s2sw</a></p><ul><li>make sure all your com ports are closed!!! Arduino IDE, or any terminal that might have a lock on the comm port</li></ul><p>High pitch frequency, everything receive signal except for y motor</p><ul><li>problems<ul><li>Y motor not working. switched y with x motor<ul><li>it looks like y-driver board is broken.</li></ul></li><li>looks like the acceleration for the y is wayyy too fast when delievering a 10mm move<ul><li>all configurations for acecleration matched with v1 and v2 of k8200 for marlin firmware</li></ul></li><li>tried uninstalling 1.6.10 and installed on 1.0.6 <a href="http://forum.velleman.eu/viewtopic.php?f=50&t=12726&start=15">got info here</a>
<strong>note</strong> one bad driver can cause the board not to be detected on the serial ports</li></ul></li></ul><h3 id=testing-heaters>testing heaters</h3><p>bed keep having errors because of slow heating</p><ul><li>connected 15v back, and time from room temp to 60 deg</li></ul><hr><p>Testing with <a href=https://ultimaker.com/en/products/cura-software>Cura 2.1.3</a></p><h4 id=setting-up-printer-profile-for-cura>Setting up printer profile for Cura</h4><p>Nice to know that Cura 2.1.x doesnt have K8200 Supported. Advance configuration is needed using JSON config files. <a href=https://ultimaker.com/en/resources/20511-change-machine-settings>Read more here</a>
This is not play nice with Cura v15.</p><p>Some more digging&mldr; Cura Wiki in German <a href=http://k8200-wiki.de/Cura>here</a> -> translated to <a href="https://translate.google.com/translate?sl=auto&tl=en&js=y&prev=_t&hl=en&ie=UTF-8&u=http%3A%2F%2Fk8200-wiki.de%2FCura&edit-text=&act=url">English</a>. And it is.. for 15.0.2 Cura</p><p>Problem with JSON is no comments -> had to dig around for unit on parameters. I think all units are in mm</p><p>json is inheriting from &lsquo;fdmprinter.json&rsquo;
&lsquo;machine_start_gcode&rsquo; and &lsquo;machine_end_gcode&rsquo; are not the same as the fdmprinter.json</p><p>what worked before was my original starting and ending gcode
the travel_speed was set to 150.0 mm/s in my previous code</p><pre><code class=language-start.gcode data-lang=start.gcode>  ; M190 S60 ;Uncomment to add your own bed temperature line
  ; M109 S200 ;Uncomment to add your own temperature line
  G21        ;metric values
  G90        ;absolute positioning
  M107       ;start with the fan off
  G28 X0 Y0  ;move X/Y to min endstops
  G28 Z0     ;move Z to min endstops
  G1 Z15.0 F{travel_speed} ;move the platform down 15mm
  G92 E0                  ;zero the extruded length
  G1 F200 E3              ;extrude 3mm of feed stock
  G92 E0                  ;zero the extruded length again
  G1 F{travel_speed};Put printing message on LCD screen
  M117 Printing...

end.gcode = ;End GCode
  M104 S0                     ;extruder heater off
  M140 S0                     ;heated bed heater off (if you have it)
  G91                                    ;relative positioning
  G1 E-1 F300                            ;retract the filament a bit before lifting the nozzle, to release some of the pressure
  G1 Z+0.5 E-5 X-20 Y-20 F{travel_speed} ;move Z up a bit and retract filament even more
  G28 X0 Y0                              ;move X/Y to min endstops, so the head is out of the way
  M84                         ;steppers off
  G90                         ;absolute positioning
</code></pre><p>This is what the CuraProfileMaker generated</p><pre><code>&quot;machine_start_gcode&quot;: {
            &quot;default&quot;: &quot;G21 ;metric values
            						G90 ;absolute positioning
            						M82 ;set extruder to absolute mode
            						M107 ;start with the fan off
            						G28 X0 Y0 ;move X/Y to min endstops
            						G28 Z0 ;move Z to min endstops
            						G1 Z15.0 F9000 ;move the platform down 15mm
            						G92 E0 ;zero the extruded length
            						G1 F200 E3 ;extrude 3mm of feed stock
            						G92 E0 ;zero the extruded length again
            						G1 F9000 ;Put printing message on LCD screen
            						M117 Printing...&quot;
        },
&quot;machine_end_gcode&quot;: {
	&quot;default&quot;: &quot;M104 S0 ;extruder heater off
      				M140 S0 ;heated bed heater off (if you have it)
      				G91 ;relative positioning
      				G1 E-1 F300  ;retract the filament a bit before lifting the nozzle, to release some of the pressure
      				G1 Z+0.5 E-5 X-20 Y-20 F9000 ;move Z up a bit and retract filament even more
      				G28 X0 Y0 ;move X/Y to min endstops, so the head is out of the way
      				M84 ;steppers off
      				G90 ;absolute positioning&quot;
}
</code></pre><h5 id=g-code>G-Code</h5><p>oh yeah.. start looking at the G-Code to see what is the difference <a href=http://reprap.org/wiki/G-code>Marlin G-Code</a></p><h4 id=setting-up-printing-profiles-for-pla>Setting up Printing profiles for PLA</h4><p>Need to setup printer profiles</p><ul><li>found print profile online awhile ago <a href="http://forum.velleman.eu/viewtopic.php?f=50&t=16437">here</a></li></ul><hr><h3 id=connecting-it-up>Connecting it up!</h3><p>plugging in Arduino board to raspberry-pi for the first time to initiate communication with Octoprint</p><p>MAXTEMP error for Heater_ID: bed</p><p>Went back to configuration to change</p><div class=highlight><pre style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-c data-lang=c><span style=color:#75715e>#define HEATER_0_MINTEMP 5
</span><span style=color:#75715e>#define HEATER_1_MINTEMP 0 </span><span style=color:#75715e>// changed from 5 -&gt; 0
</span><span style=color:#75715e></span><span style=color:#75715e>#define HEATER_2_MINTEMP 0 </span><span style=color:#75715e>// changed from 5 -&gt; 0
</span><span style=color:#75715e></span><span style=color:#75715e>#define HEATER_3_MINTEMP 0 </span><span style=color:#75715e>// changed from 5 -&gt; 0
</span><span style=color:#75715e></span><span style=color:#75715e>#define BED_MINTEMP 5
</span></code></pre></div><h3 id=printing>Printing</h3><p>Manually adjusted -> filament to 3mm and not 1.75mm</p><p>Z-homing was off&mldr; the stepper did not stop</p><hr><h3 id=to-be-added-later>To be added later</h3><h4 id=powerhold>Powerhold?</h4><p>Marlin_main.cpp, one of the first few functions is to setup the powerhold</p><pre><code>void setup_powerhold() {
  #if HAS_SUICIDE
    OUT_WRITE(SUICIDE_PIN, HIGH);
  #endif
  #if HAS_POWER_SWITCH
    #if ENABLED(PS_DEFAULT_OFF)
      OUT_WRITE(PS_ON_PIN, PS_ON_ASLEEP);
    #else
      OUT_WRITE(PS_ON_PIN, PS_ON_AWAKE);
    #endif
  #endif
}
</code></pre><p>The ps_on is needed to move motors and everything around. only kick on the high power if needed for turn bed or extruder</p><p>will be useful to control heated-bed and hot-ends later</p><h3 id=suicide-switch>Suicide Switch</h3><p>use to shut of Marlin until next print <a href=http://www.tridimake.com/2012/11/auto-shutoff-at-end-of-print.html>see here</a></p><hr><br></div><div class=navigation><div style=width:100%></div></div><br></div></section><section class="container-fluid footer"><div class=copyright><a href=https://www.huynle.com/license>Copyright © 2020 Huy Le</a></div><div class=icons><a href=https://github.com/huynle target=_blank><img class=icon src=https://www.huynle.com/img/github.svg alt=github></a>
<a href=https://twitter.com/huynle target=_blank><img class=icon src=https://www.huynle.com/img/twitter.svg alt=twitter></a>
<a href=https://www.linkedin.com/in/huynle target=_blank><img class=icon src=https://www.huynle.com/img/linkedin.svg alt=linkedin></a>
<a href=mailto:dacrazyazn@gmail.com><img class=icon src=https://www.huynle.com/img/email.svg alt=email></a>
<a href=https://www.huynle.com/index.xml><img class=icon src=https://www.huynle.com/img/rss.svg alt=rss></a></div></div></section><script src=https://ajax.googleapis.com/ajax/libs/webfont/1.6.26/webfont.js></script><script>WebFont.load({google:{families:['Raleway:400,600,700','Merriweather:300,300i,700,700i','Ubuntu+Mono:400,700']}});</script><script src=https://www.huynle.com/js/highlight.min.js defer></script><script src=https://www.huynle.com/js/progressively.min.js defer></script><script>window.onload=function(){hljs.initHighlighting();progressively.init({delay:30,throttle:50});};</script></body></html>